import java.util.*;
import java.awt.*;
import javax.swing.*;
import javax.imageio.ImageIO;
import java.io.*;
import java.awt.image.*;
import java.awt.event.MouseListener;
import java.awt.event.MouseEvent;
import java.awt.Font;
import java.awt.event.KeyListener;
import java.awt.event.KeyEvent;
import java.util.*;

public class BirdFeederPanel extends JPanel {

	public BirdFeeder birdFeeder;

	BufferedImage b1;
	BufferedImage b2;
	BufferedImage b3;
	BufferedImage b4;
	BufferedImage b5;
	BufferedImage b6;

	public BirdFeederPanel() {

		birdFeeder = new BirdFeeder();

		try {
			b1 =  ImageIO.read(BirdFeederPanel.class.getResource("/images/worm.png"));
			b2 =  ImageIO.read(BirdFeederPanel.class.getResource("/images/wheat.png"));
			b3 =  ImageIO.read(BirdFeederPanel.class.getResource("/images/fish.png"));
			b4 =  ImageIO.read(BirdFeederPanel.class.getResource("/images/mouse.png"));
			b5 =  ImageIO.read(BirdFeederPanel.class.getResource("/images/berry.png"));
			b6=  ImageIO.read(BirdFeederPanel.class.getResource("/images/wormOrWheat.png"));
		}
		catch(Exception e) {
			System.out.println("error");		
		}

	}

	public void drawBirdFeeder(Graphics g) {		
		g.setColor(new Color(137,81,41));

		g.fillRect(0, 0, 75*6, 120);
		int x = -55; //ADD BY 65 EACH TIME
		int y = 30; 
		for(int i=0; i<birdFeeder.getDice().size(); i++) {
			x+=65;
			if(birdFeeder.getDice().get(i).getFace().equals(FoodType.WORM)) {
				g.drawImage(b1, x, y, 65,65 , null);
			} 
			if(birdFeeder.getDice().get(i).getFace().equals(FoodType.SEED)) {
				g.drawImage(b2, x, y, 65,65 , null);
			}
			if(birdFeeder.getDice().get(i).getFace().equals(FoodType.FISH)) {
				g.drawImage(b3, x, y, 65,65 , null);
			}
			if(birdFeeder.getDice().get(i).getFace().equals(FoodType.RODENT)) {
				g.drawImage(b4, x, y, 65,65 , null);
			}
			if(birdFeeder.getDice().get(i).getFace().equals(FoodType.FRUIT)) {
				g.drawImage(b5, x, y, 65,65 , null);
			}
			if(birdFeeder.getDice().get(i).getFace().equals(FoodType.WILD)) {
				g.drawImage(b6, x, y, 65,65 , null);
			}
		}
		y= 135;
		x=-55;
		for(int i = 0 ; i<birdFeeder.getDiceOutside().size(); i++) {
			x+=65;
			if(birdFeeder.getDiceOutside().get(i).getFace().equals(FoodType.WORM)) {
				g.drawImage(b1, x, y, 65,65 , null);
			} 
			if(birdFeeder.getDiceOutside().get(i).getFace().equals(FoodType.SEED)) {
				g.drawImage(b2, x, y, 65,65 , null);
			}
			if(birdFeeder.getDiceOutside().get(i).getFace().equals(FoodType.FISH)) {
				g.drawImage(b3, x, y, 65,65 , null);
			}
			if(birdFeeder.getDiceOutside().get(i).getFace().equals(FoodType.RODENT)) {
				g.drawImage(b4, x, y, 65,65 , null);
			}
			if(birdFeeder.getDiceOutside().get(i).getFace().equals(FoodType.FRUIT)) {
				g.drawImage(b5, x, y, 65,65 , null);
			}
			if(birdFeeder.getDiceOutside().get(i).getFace().equals(FoodType.WILD)) {
				g.drawImage(b6, x, y, 65,65 , null);
			}
		}

	}
	
	public void paint(Graphics g) {
		super.paint(g);
		drawBirdFeeder(g);
	}

	/*
	public void updateBirdFeeder(ArrayList<Integer> foodInside, ArrayList<Integer> foodOutside) {

		this.foodInside = foodInside;
		this.foodOutside = foodOutside;

	}
	*/

	public void reroll() { // re-roll all die

		birdFeeder.rerollIfAllSame();
		repaint();

	}

	public void take(FoodType type) { // take a die from inside to outside

		birdFeeder.take(type);
		
	}
}
